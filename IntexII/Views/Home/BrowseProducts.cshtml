@{
    ViewData["Title"] = "Products";
}
@model ProductsListViewModel

<h1 class="text-center">Products</h1>

<div class="row m-1 p-1">
    <div class="col-3">
        <form method="post" asp-action="ChangePageSize">
            Page Size:
            <select name="pageSize" onchange="this.form.submit()">
                <!option value="5" @(Model.PaginationInfo.ItemsPerPage == 5 ? "selected" : "")>5</!option>
                <!option value="10" @(Model.PaginationInfo.ItemsPerPage == 10 ? "selected" : "")>10</!option>
                <!option value="20" @(Model.PaginationInfo.ItemsPerPage == 20 ? "selected" : "")>20</!option>

            </select>
        </form>
        <br/>
        <vc:colors/>
        <vc:categories/>
    </div>
    <div class="container col-9">
        <main role="main" class="pb-3">
            
            @foreach(var p in Model.Products){
                <a asp-controller="Home" asp-action="SingleProduct" asp-route-productId="@p.ProductId" class="card">
                    <img src="@p.ImgLink" alt="@p.ProductName" width="500" height="636"
                         loading="lazy">
                    <p>@p.ProductName</p>
                </a>
            }

            <div page-model="@Model.PaginationInfo" page-action="BrowseProducts"
                 page-classes-enabled="true" page-class="btn"
                 page-class-normal="btn-outline-dark"
                 page-class-selected="btn-primary"
                 page-url-category="@Model.CurrentCategory"
                 class="btn-group pull-right m-1"></div>

        </main>
    </div>
</div>